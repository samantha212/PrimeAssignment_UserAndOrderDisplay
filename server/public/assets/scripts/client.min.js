var app=angular.module("orderApp",[]);app.controller("mainController",["$scope","$http","getAddresses",function(a,b,c){a.users=[];a.displayAddresses=[],a.getUserAddresses=c.getUserAddresses,a.data=c.data,angular.element(document).ready(function(){b.get("/users").then(function(b){a.users=b.data,console.log(a.users),c.createAddressesObject()})})}]),app.factory("getAddresses",["$http",function(a){var b={results:[]},c=function(){a.get("/getuseraddresses").then(function(a){allAddressArray=a.data})},d=function(a){for(var c=a,d=[],e=allAddressArray,f=0;f<e.length;f++){var g=e[f];g.user_id==c&&d.push(g)}console.log(d),b.results=d};return{createAddressesObject:c,getUserAddresses:d,data:b}}]);